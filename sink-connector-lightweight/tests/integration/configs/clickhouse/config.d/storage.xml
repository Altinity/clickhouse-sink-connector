<clickhouse>

<storage_configuration>
    <disks>
        <s3_disk>
          <type>s3</type>
            <endpoint>http://minio:9001/root/data/</endpoint>
            <access_key_id>minio</access_key_id>
            <secret_access_key>minio123</secret_access_key>
        </s3_disk>
        <default>
            <keep_free_space_bytes>1024</keep_free_space_bytes>
        </default>
        <new_disk>
            <path>/mnt/new_disk/</path>
            <keep_free_space_bytes>10485760</keep_free_space_bytes>
        </new_disk>
        <disk1>
            <path>/var/lib/clickhouse/disk1/</path>
        </disk1>
        <disk2>
            <path>/var/lib/clickhouse/disk2/</path>
        </disk2>
        <jbod1>
          <path>/jbod1/</path>
        </jbod1>
        <jbod2>
          <path>/jbod2/</path>
            <keep_free_space_bytes>10485760</keep_free_space_bytes>
        </jbod2>
    </disks>
    <policies>
      <s3_policy>
        <volumes>
          <main>
            <disk>s3_disk</disk>
          </main>
        </volumes>
      </s3_policy>
        <default>
            <volumes>
                <default>
                    <disk>default</disk>
                </default>
            </volumes>
        </default>
        <my_policy>
            <volumes>
                <main>
                    <disk>default</disk>
                    <max_data_part_size_bytes>1073741824</max_data_part_size_bytes>
                </main>
                <external>
                    <disk>new_disk</disk>
                </external>
            </volumes>
        </my_policy>
        <policy1>
            <volumes>
                <volume2>
                    <disk>disk1</disk>
                </volume2>
            </volumes>
        </policy1>
        <policy2>
            <volumes>
                <volume2>
                    <disk>disk2</disk>
                </volume2>
            </volumes>
        </policy2>
        <tiered_storage>
            <volumes>
                <hot>
                    <disk>disk1</disk>
                </hot>
                <cold>
                    <disk>s3_disk</disk>
                </cold>
            </volumes>
            <move_factor>0.2</move_factor>
        </tiered_storage>
        <fast_med_and_slow>
          <volumes>
              <fast>
                  <disk>jbod1</disk>
                </fast>
                <medium>
                  <disk>jbod2</disk>
                </medium>
                <slow>
                  <disk>s3_disk</disk>
                </slow>
            </volumes>
        </fast_med_and_slow>
    </policies>
</storage_configuration>

</clickhouse>
